<!--
    Citation for the following function:
    Date: 06/07/2024
    Copied from 
    nodejs starter app on github for crud
    source URL: https://github.com/osu-cs340-ecampus/nodejs-starter-app
    Authors: George Kochera, Cortona1, currym-osu, dmgs11
    
    
    Citation for the following function:
    Date: 06/10/2024
    Copied from 
    HTML <input type="number"> where min = 1.
    https://www.w3schools.com/tags/att_input_type_number.asp
    Author: W2 Schools
    
-->

<!-- exercise_members.hbs -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<header>
    <h1>Sessions in Exercises</h1>
    <nav class='global'>
        <a href='/'>Home Page </a>
        <a href='/trainers'>Trainers</a>
        <a href='/members'>Members</a>
        <a href='/exercises'>Exercises</a>
        <a href='/training_sessions'>Training Sessions</a>
        <a href='/session_exercises'>Session Exercises</a>
       
    </nav>
</header>

{{!-- Create a table --}}
<table id="session-exercises-table">
    {{!-- Header section --}}
    <thead>
        <tr>
            <th>Session Exercise ID</th>
            <th>Session ID</th>
            <th>Exercise ID</th>
            <th>Exercise Name</th>
            <th>Set Num</th>
            <th>Set Rep</th>
            <th>Delete</th>
        </tr>
    </thead>
    <!-- Body section -->
    <tbody>
        {{#each data}}
        <tr data-value={{this.session_exercises_id}}>
            <td>{{this.session_exercises_id}}</td>
            <td>{{this.session_id}}</td>
            <td>{{this.exercise_id}}</td>
            <td>{{this.exercise_name}}</td>
            <td>{{this.set_num}}</td>
            <td>{{this.set_rep}}</td>
            <td><button onclick="deleteSessionExercise({{this.session_exercises_id}})">Delete</button></td>
        </tr>
        {{/each}}
    </tbody>
</table>
<script src="./js/delete_session_exercises.js"></script>

{{!-- Form to add a record to the table using standard HTML forms --}}
<h2>Add a session to exercise</h2>
<p>To add a new selection to an exercise, please enter the information below and click `Submit`!</p>
<form id="add-session-exercises-form" method="POST" action="/add-session-exercises-form">
    <label for="input-session-id">Session: </label>
    <select name="input-session-id" id="input-session-id" required>
        <option value="">Select a Session ID</option>
        {{#each sessions}}
        <option value="{{this.session_id}}">{{this.session_id}}</option>
        {{/each}}
    </select>

    <label for="input-exercise-id">Exercise: </label>
    <select name="input-exercise-id" id="input-exercise-id" required>
        <option value="">Select an Exercise ID</option>
        {{#each exercises}}
        <option value="{{this.exercise_id}}">{{this.exercise_name}}</option>
        {{/each}}
    </select>

    <label for="input-set-number">Set Num: </label>
    <input type="number" name="input-set-number" id="input-set-number" min="1" required>

    <label for="input-set-rep">Set Rep: </label>
    <input type="number" name="input-set-rep" id="input-set-rep" min="1" required>
    
    <input type="submit" value="Submit">
</form>

<!-- UPDATE a session in an exercise -->
<h2>Update Session Exercise</h2>
<p>To update a Session in an Exercise, please select the 3 drop down boxes and input the set num and set rep. click 'Submit' when you are done!</p>
<form id="update-session-exercises-form-ajax">

    <label for="input-sessionExercisesID">Session Exercise ID: </label>
    <select name="sessionExercise" id="input-session-exercise-update">
        <option value="">Select a Session Exercise ID</option>
        {{#each data}}
        <option value="{{this.session_exercises_id}}">{{this.session_exercises_id}}</option>
        {{/each}}
    </select>

    <label for="input-session">Session: </label>
    <select name="session" id="input-session-update">
        <option value="">Select a Session</option>
        {{#each sessions}}
        <option value="{{this.session_id}}">{{this.session_id}}</option>
        {{/each}}
    </select>
   
    <label for="input-exercise">Exercise: </label>
    <select name="exercise" id="input-exercise-update">
        <option value="">Select an Exercise</option>
        {{#each exercises}}
        <option value="{{this.exercise_id}}">{{this.exercise_name}}</option>
        {{/each}}
    </select>
    
    <label for="input-set-number">Set Num: </label>
    <input type="number" name="setNum" id="input-set-number-update"  min="1" >

    <label for="input-set-rep">Set Rep: </label>
    <input type="number" name="setRep" id="input-set-rep-update"  min="1" >
    
    <input type="submit" value="Submit">

</form>

<script src="./js/update_session_exercises.js"></script>





